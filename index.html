<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>M…ômm…ôd & S…ôid…ô</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:'Inter',sans-serif;
background:#f8f5f0;
color:#333;
text-align:center;
overflow-x:hidden;
}

h1{
font-family:'Playfair Display',serif;
font-size:32px;
margin-top:20px;
}

.card{
background:white;
margin:20px;
padding:20px;
border-radius:20px;
box-shadow:0 10px 30px rgba(0,0,0,0.08);
}

.button{
padding:14px 22px;
border-radius:30px;
border:none;
cursor:pointer;
font-size:16px;
font-weight:500;
transition:0.3s;
}

.gold{
background:linear-gradient(45deg,#d4af37,#f9e79f);
color:#000;
}

.glow{
animation:glow 2s infinite alternate;
}

@keyframes glow{
from{box-shadow:0 0 5px #d4af37;}
to{box-shadow:0 0 20px #f9e79f;}
}

iframe{
width:100%;
height:300px;
border:0;
border-radius:20px;
}

.modal{
position:fixed;
bottom:-100%;
left:0;
width:100%;
background:white;
border-radius:30px 30px 0 0;
padding:20px;
box-shadow:0 -5px 20px rgba(0,0,0,0.2);
transition:0.4s;
}

.modal.active{
bottom:0;
}

input,textarea{
width:90%;
padding:12px;
margin:10px 0;
border-radius:15px;
border:1px solid #ddd;
}

.close{
position:absolute;
right:20px;
top:15px;
cursor:pointer;
font-size:20px;
}

.fade-in{
animation:fadein 1.5s ease forwards;
opacity:0;
}

@keyframes fadein{
to{opacity:1;}
}
</style>
</head>

<body>

<audio id="bgMusic" src="Dmitri Shostakovich - Waltz No.2 #Shorts.mp3"></audio>

<div class="card fade-in">
<h1>M…ômm…ôd & S…ôid…ô</h1>
<p>30 Mart 2026 ‚Ä¢ 18:00</p>

<button class="button gold" onclick="addToCalendar()">T…ôqvim…ô …ôlav…ô et</button>
<br><br>
<button class="button gold glow" onclick="openWish()">üíõ Arzu g√∂nd…ôr</button>
</div>

<div class="card">
<h3>√únvan</h3>
<p>≈ûah…ôn≈üah Premium Hall</p>
<iframe src="https://maps.google.com/maps?q=Shahanshah%20Premium%20Hall&t=&z=15&ie=UTF8&iwloc=&output=embed"></iframe>
</div>

<!-- Modal -->
<div class="modal" id="wishModal">
<span class="close" onclick="closeWish()">‚úï</span>
<h3>Arzu</h3>
<input type="text" id="name" placeholder="Adƒ±nƒ±z v…ô soyadƒ±nƒ±z">
<textarea id="message" placeholder="Qeyd (ist…ôy…ô g√∂r…ô)"></textarea>
<br>
<button class="button" onclick="startRecording()">üé§ S…ôs yaz</button>
<button class="button" onclick="stopRecording()">‚èπ Dayan</button>
<br><br>
<button class="button gold" onclick="sendWish()">‚¨Ü G√∂nd…ôr</button>
<p id="status"></p>
</div>

<script>
const WISH_WEB_APP_URL="https://script.google.com/macros/s/AKfycbyBmxL3pFPB5Mx2Pr7dJR0GqdeyXPrcqkuk65ntQb87b8jz4VDqk-mp0ZLhe8qwSm8crA/exec";

let mediaRecorder;
let audioBlob;

function openWish(){
document.getElementById("wishModal").classList.add("active");
}

function closeWish(){
document.getElementById("wishModal").classList.remove("active");
}

async function startRecording(){
const stream=await navigator.mediaDevices.getUserMedia({audio:true});
mediaRecorder=new MediaRecorder(stream);
mediaRecorder.start();
let chunks=[];
mediaRecorder.ondataavailable=e=>chunks.push(e.data);
mediaRecorder.onstop=e=>{
audioBlob=new Blob(chunks,{type:'audio/webm'});
};
}

function stopRecording(){
mediaRecorder.stop();
}

async function sendWish(){
const name=document.getElementById("name").value;
const message=document.getElementById("message").value;
document.getElementById("status").innerText="G√∂nd…ôrilir...";

let formData=new FormData();
formData.append("name",name);
formData.append("message",message);
if(audioBlob){
formData.append("audio",audioBlob);
}

await fetch(WISH_WEB_APP_URL,{
method:"POST",
body:formData
});

document.getElementById("status").innerText="G√ñND∆èRƒ∞LDƒ∞ ‚úì";
}

function addToCalendar(){
window.location.href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=M…ômm…ôd%20%26%20S…ôid…ô%20Toy&dates=20260330T140000Z/20260330T180000Z&details=≈ûah…ôn≈üah%20Premium%20Hall";
}

/* MUSIC fade-in */
const music=document.getElementById("bgMusic");
document.addEventListener("click",function(){
music.volume=0;
music.play();
let vol=0;
let fade=setInterval(()=>{
if(vol<1){
vol+=0.05;
music.volume=vol;
}else{
clearInterval(fade);
}
},100);
},{once:true});
</script>

</body>
</html>